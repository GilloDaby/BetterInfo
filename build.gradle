plugins {
    id 'java'
}

group = 'com.gillodaby'
version = '1.2.0'

tasks.named('jar') {
    archiveBaseName.set('BetterInfo')
}

// Ensure plugin.json, manifest.json, and config.yaml are included at the root of the plugin JAR
tasks.named('jar') {
    if (file('plugin.json').exists()) {
        from('plugin.json') { into '' }
    }
    if (file('manifest.json').exists()) {
        from('manifest.json') { into '' }
    }
    if (file('config.yaml').exists()) {
        from('config.yaml') { into '' }
    }
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(25)
    }
}

tasks.withType(JavaCompile).configureEach {
    options.release = 25
}

repositories {
    mavenCentral()
}

dependencies {
    // Use compileOnly for server API (adjust path if your HytaleServer.jar is located elsewhere)
    compileOnly files("../libs/HytaleServer.jar")
}
